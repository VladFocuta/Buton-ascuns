<!DOCTYPE html>
<html>
	<head>
		<title>Butonul ascuns </title>
		<style>
		body {
  		padding: 20px;
		}
		button {
  			margin-top: 20px;
  			line-height: 60px;
  			font-weight: bold;
  			padding: 0 40px;
  			background: red;
  			border: 1;
		}
		</style>
	</head>
	<body>
		</buton>
		<script>

var first_button = document.createElement("button");
first_button.id = "first_button";
first_button.innerHTML = "First Button";
var second_button = document.createElement("button");
second_button.id = "second_button";
second_button.innerHTML = "Second Button";
var third_button = document.createElement("button");
third_button.id = "third_button";
third_button.innerHTML = "Third Button";
var buttons = document.createElement("button");
buttons.id = "buttons";
buttons.innerHTML = "Generate Buttons";

var randomNumber;

var buttons_amount;
function generateRandomNumber() {
  randomNumber = Math.floor(Math.random() * 3) + 1
}
function user_input() {
  buttons_amount = prompt("Enter the amount of buttons that you need");
  if (buttons_amount != null) {
    const guessed_buttons = [];
    for (let i = 1; i <= buttons_amount; i++) {
      let button = document.createElement("button");
      button.id = "randomButton" + i;
      button.innerHTML = "Button " + i;
      guessed_buttons.push(button);
      body.appendChild(button);
    }
    randomNumberGenerator = Math.floor(Math.random() * buttons_amount) + 1;
    guessed_buttons.forEach(function(button) {
      button.addEventListener("click", function() {
        const buttonNumber = parseInt(button.id.replace("randomButton", ""));
        if (buttonNumber == randomNumberGenerator && buttonNumber <= buttons_amount) {
          alert("castigator");
        } else {
          alert("necastigator");
        }
      });
    });
  }
}

window.onload = generateRandomNumber;

first_button.addEventListener("click", function() {
  if (randomNumber == 1) {
    alert("castigator");
  } else {
    alert("necastigator");
  }
});
second_button.addEventListener("click", function() {
  if (randomNumber == 2) {
    alert("castigator");
  } else {
    alert("necastigator");
  }
});
third_button.addEventListener("click", function() {
  if (randomNumber == 3) {
    alert("castigator");
  } else {
    alert("necastigator");
  }
});
buttons.addEventListener("click", function() {
  user_input();
});

var body = document.getElementsByTagName("body")[0];
body.appendChild(first_button);
body.appendChild(second_button);
body.appendChild(third_button);
body.appendChild(buttons);

           
		</script>
	</body>
</html>